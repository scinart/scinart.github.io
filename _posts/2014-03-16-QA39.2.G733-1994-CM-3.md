---
layout: post
title: "具体数学——整值函数"
date: 2014-03-16
timestamp: "2014-03-17 13:33:45 scinart"
categories: math note
tag: math
comments: true
toc: true
cc: "by-nc-nd"

---

##  底和项

$$
\lfloor x \rfloor \iff 
\begin{cases}
n≤x<n+1 \\
x-1<n≤x
\end{cases}
\\
\lceil x \rceil \iff 
\begin{cases}
n-1<x≤n \\
x≤n<x+1
\end{cases}

\tag{3.5}
$$


设$$ f(x) $$是任意一个在实数区间连续的单增函数，且 $$ f(x)是整数 \implies x是整数. $$  
那么只要$$f(x), f(\lfloor x \rfloor)$$和$$f(\lceil x \rceil) $$都有定义，则有

$$
\lfloor f(x) \rfloor = \lfloor f (\lfloor x \rfloor ) \rfloor \\
\lceil f(x) \rceil = \lceil f (\lceil x \rceil ) \rceil \\
$$

成立。

证：(只以顶为例)

若 $$x=\lceil x \rceil$$，则没什么好证的了，接下来设$$x < \lceil x \rceil$$  

$$
\begin{align}
x < \lceil x \rceil & \implies f(x)<f(\lceil x \rceil) \\
                    & \implies \lceil f(x) \rceil ≤ \lceil f(\lceil x \rceil) \rceil
\end{align}
$$

接下来设$$ \lceil f(x) \rceil < \lceil f(\lceil x \rceil) \rceil $$以求得反例：

$$
\lceil f(x) \rceil < \lceil f(\lceil x \rceil) \rceil \implies \lceil f(x) \rceil < f(\lceil x \rceil)
$$

将右端重写成：

$$
f(x) ≤ \lceil f(x) \rceil < f(\lceil x \rceil)
$$

这说明有个 $$ y $$ 使得$$ x≤y<\lceil x \rceil $$ 且

$$
f(y) = \lceil f(x) \rceil
$$

又由于题设中有$$ f(x)是整数 \implies x是整数. $$，所以$$y$$还是整数，由于x不是整数，  
$$x≤y<\lceil x \rceil \implies x<y<\lceil x \rceil $$

这样的$$y$$数显然不存在。  
这说明$$ \lceil f(x) \rceil < \lceil f(\lceil x \rceil) \rceil $$不成立，于是能剩下$$ \lceil f(x) \rceil = \lceil f(\lceil x \rceil) \rceil $$成立了。

## 有用公式
以下几个公式非常有用，记住了就不用每次都想了。

$$
\begin{array}{lll}
\text{区间} & \text{包含的整数(个)} & \text{限制条件} \\
\hline \\
\left[α .. β \right] & \lfloor β \rfloor - \lceil α \rceil + 1 & α≤β \\
\left[α .. β \right) & \lceil β \rceil - \lceil α \rceil & α≤β \\
\left(α .. β \right] & \lfloor β \rfloor - \lfloor α \rfloor & α≤β \\
\left(α .. β \right) & \lceil β \rceil - \lfloor α \rfloor - 1 & α<β \\
\tag{3.12}
\end{array}
$$

## 一个系统分析的例子

记a能整除b(b是a的倍数)为$$ a \backslash b $$

$$
\begin{aligned}
\sum_{1≤n≤1000}{\left[ \lfloor \sqrt[3]{n} \rfloor \backslash n \right]}
=& \sum_{k,n}{\left[ k= \lfloor \sqrt[3]{n} \rfloor \right][k \backslash n][1≤n≤1000]} \\
=& \sum_{k,m,n}{\left[ k^3 ≤ n < (k+1)^3 \right][n=km][1≤n≤1000]} \\
=& 1 + \sum_{k,m}{\left[ k^3 ≤ km < (k+1)^3 \right][1≤k<10]} \quad \color{red}{这步不知道怎么来的啊}\\
=& 1 + \sum_{k,m}{\left[ m \in [k^2 .. (k+1)^3/k≤ km < ((k+1)^3 /k) ] \right][1≤k<10]} \\
=& 1 + \sum_{1≤k<10}\left( \lceil k^2+3k+3+1/k \rceil - \lceil k^2 \rceil \right) \\
=& 1 + \sum_{1≤k<10}\left( 3k+4 \right)
\end{aligned}
$$

## 有趣的光谱
定义一个实数α的谱(spectrum)是如下的无限多重集合(multiset)：

$$
Spec(α) = \left\{ \lfloor α \rfloor, \lfloor 2α \rfloor, \lfloor 3α \rfloor \cdots \right\}.
$$

容易证明，$$α≠β \implies Spec(α) ≠ Spec(β) $$.  
证明过程，假设$$α < β$$，那么存在$$ \text{m such that m(β-α)≥1, so that mβ-mα≥1} $$从而它们的第m个元素不相等。

下面证明$$Spec(\sqrt{2})$$ 与 $$Spec(2+\sqrt{2})$$ 构成正整数的一个划分(partition).
为了证明这一结论，我们只需证两个集合中小于等于n的元素个数的和是n就行了。(为什么自己想去，反正书上也没写)

设α为正数，Spec(α)中≤n的元素的个数是

$$
\begin{align}
N(α, n) =& \sum_{k>0}\left[ \lfloor kα \rfloor ≤ n \right] \\
        =& \sum_{k>0}\left[ \lfloor kα \rfloor < n+1 \right] \\
        =& \sum_{k>0}\left[ kα < n+1 \right] \\
		=& \sum_{k}\left[ 0<k<(n+1)/α\right] \\
		=& \lceil (n+1)/α \rceil - 1.
\end{align}
\tag{3.14}
$$

接下来只要证明

$$
\lceil \frac{n+1}{\sqrt{2}} \rceil - 1 + \lceil \frac{n+1}{2+\sqrt{2}} \rceil 
$$

就行了，which is 很好证的。


## 底和顶的递归式

先把高德纳数解了：

$$
\begin{array}{l}
K_0 = 1;
K_{n+1} = 1 + min(2K_{\lfloor n/2 \rfloor}, 3K_{\lfloor n/3 \rfloor} ), \quad n≥0.
\tag{3.16}
\end{array}
$$

证明或证伪 $$ K_n ≥ n $$.

解：  
其实只要证明 $$ K_n ≥ (n+1) $$ 就可以了。用归纳法，省略废话：

$$
\begin{aligned}
K_{n+1} =& 1 + min(2K_{\lfloor n/2 \rfloor}, 3K_{\lfloor n/3 \rfloor} ) \\
        ≥& 1 + min(2({\lfloor n/2 \rfloor}+1), 3({\lfloor n/3 \rfloor}+1)) \\
        ≥& 1 + min((sth ≥ n), (sth ≥ n)) \\
		≥& 1 + (sth ≥ n) \\
		≥& 1 + n
\end{aligned}
$$

## 约瑟夫问题新思路

我们的思路是，只要有一个人被处死，就将一些人指定新号码，例如：  
假设有n=10个人，每隔两个人处死一个人，那么，$$ 1$$ 号和 $$ 2 $$号变成$$n+1$$和$$n+2$$，然后$$3$$号被处死，$$4$$号和$$5$$号就变成$$n+3$$和$$n+4$$，等等。
注意到这个规律是$$3k+1$$和$$3k+2$$变成了$$n+2k+1$$和$$n+2k+2$$，其解释是：  
$$3k+1$$那个人前面被处死了$$k$$个人，而他又从$$n$$开始编的号，所以他的新号是$$3k+1-k+n=n+2k+1$$

![img]({{ site.img_url }}/Concrete-Mathematics-Joseph-3.3.png)

最后一个被处死的肯定是30号，这样，只要按这个规律回溯就可以了，图中用红色短线标出。

假设每设q个人处死一个人，共N个人，那么，$$qk+m$$(m是某小于q的数)被映射到了$$qk+m-k+N$$这个位置。
那么假设现在是位置 p ，稍加计算就得到，它原来的位置是:  

$$
p-N+\lfloor (p-N-1/q-1) \rfloor
$$

这样，幸存者号码可以通过如下方式算出：

$$
\begin{array}{l}
P\,:=\,3N; \\
while\, P>N\, do\, P\,:=\,P-N+\lfloor (P-N-1/q-1) \rfloor; \\
J_q (N)\,=\, P
\end{array}
$$

不过，这不是一个封闭形式，也不是一个递归式，于是，书中提出用变量$$D=qN+1-P$$来替换$$P$$，得到：

$$
\begin{array}{ll}
qN+1-D\,:=\,qN; & D\,:=\,1\\
while\, qN+1-D>N & while\, D≤(q-1)N \\
\qquad do\, P\,:=\,P-N+\lfloor (P-N-1/q-1) \rfloor; & \qquad do\, D\,:=\, \lceil \frac{q}{q-1} D \rceil; \\
J_q (N)\,:=\,P \; \text{上一步自己推导!}& J_q (N)\,:=\,qN+1-D
\end{array}
\tag{3.19}
$$

于是等到约瑟夫问题的通解(虽然不是很好的封闭形式，但是我们愿意将它看成某种"已知的")

$$
\begin{array}{l}
D_{0}^{(q)} = 1; \\
D_{n}^{(q)} = \lceil \frac{q}{q-1} D_{n-1}^{(q)} \rceil , \; n>0.
\tag{3.20}
\end{array}
$$
